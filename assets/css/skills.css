:root{
  --bg:#0f1724; --card:#0b1220; --accent:#60a5fa; --muted:#94a3b8; --glass: rgba(255,255,255,0.04);
  --maxw:1100px; --pad:20px; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
body{margin:0; background:linear-gradient(180deg,var(--bg),#071024 120%); color:#e6eef8; min-height:100vh}
.wrap{max-width:var(--maxw);margin:30px auto;padding:var(--pad)}

/* Top nav */
header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#38bdf8);display:flex;align-items:center;justify-content:center;color:#02203a;font-weight:700}
nav{display:flex;gap:10px}
.navlink{padding:8px 12px;border-radius:10px;color:var(--muted);text-decoration:none;font-weight:600}
.navlink.active{background:var(--glass);color:var(--accent)}

/* Card layout */
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px;padding:20px;margin-top:18px;box-shadow:0 6px 20px rgba(2,6,23,0.6)}

/* grid for profile + sidebar */
.grid{display:grid;grid-template-columns:280px 1fr;gap:18px}
.avatar{width:100%;border-radius:10px;overflow:hidden}
.avatar img{width:100%;display:block}
.meta{margin-top:12px}
.meta h2{margin:0 0 6px}
.meta p{color:var(--muted);margin:0}

/* Experience list */
.xp-item{padding:10px;border-radius:8px;background:rgba(255,255,255,0.01);margin-bottom:10px}
.xp-item h4{margin:0}
.xp-item small{color:var(--muted)}


.node{cursor:pointer;transition:filter .15s}
/* avoid scaling the node on hover to prevent the SVG hit area from moving and causing jitter
  instead use brightness/stroke changes handled in JS/CSS */
.node:hover{filter:brightness(1.08)}
.node circle{stroke:#08304a;stroke-width:3}
.node text{font-size:13px;text-anchor:middle;fill:#e6eef8}
.link{stroke:rgba(255,255,255,0.12);stroke-width:2}
.active-node circle{fill:var(--accent)}

/* info panel */
.info{position:fixed;right:20px;bottom:20px;background:#041226;padding:12px;border-radius:10px;min-width:220px;border:1px solid rgba(255,255,255,0.03)}
.info h3{margin:0 0 6px}
.info p{margin:0;color:var(--muted);font-size:14px}

/* responsive */
@media (max-width:900px){.grid{grid-template-columns:1fr}.info{position:static;margin-top:12px}}



 /* ===== Node & SVG styling ===== */
svg#skillSvg { width:100%; height:100%; overflow:visible; }
.link {
  stroke: rgba(100,110,120,0.18);
  stroke-width: 2;
  fill: none;
  transition: stroke-width .12s ease, stroke .12s ease, opacity .12s ease;
}
.link.highlight { stroke: rgba(96,165,250,0.95); stroke-width:3; opacity:1; }

/* spine connector styling for grouped cert lines */
.spine { stroke: rgba(148,163,184,0.16); stroke-width: 3; stroke-linecap: round; }
.spine-end { stroke: rgba(148,163,184,0.28); stroke-width: 2; }

.node { cursor: pointer; }
.node .base {
  stroke: rgba(2,6,23,0.12);
  stroke-width: 1;
  filter: drop-shadow(0 6px 14px rgba(2,6,23,0.14));
}
.hit-area { fill: transparent; }

.node-label {
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  font-size: 13px;
  fill: #e6eef6;
  pointer-events: none;
}

.node .label-bg {
  fill: rgba(0,0,0,0.36);
  rx: 8;
}

/* active / hover */
.node.active-node circle.base { transform: scale(1.06); }
.node:hover circle.base { transform: scale(1.04); }
.node circle { transition: transform .14s cubic-bezier(.2,.9,.3,1); transform-origin: center; }

/* small-screen adjustments */
@media (max-width:800px){
  .node-label { font-size: 11px; }
}

/* Compact certifications list and card preview */
.cert-list{
  display:grid;
  /* Force 2 cards per row on desktop/normal screens */
  grid-template-columns: repeat(2, 1fr);
  gap:16px;
  margin-top:8px;
  /* height adapts to viewport so the list fits the monitor */
  max-height: calc(100vh - 260px);
  overflow:auto;
  padding:10px 12px 10px 6px;
  scrollbar-gutter: stable both-edges;
  background: linear-gradient(180deg, rgba(255,255,255,0.008), rgba(255,255,255,0.004));
}

/* Scrollbar styling: WebKit (Chrome, Edge, Safari) */
.cert-list::-webkit-scrollbar{ height:10px; width:10px }
.cert-list::-webkit-scrollbar-track{ background: rgba(255,255,255,0.02); border-radius:10px }
.cert-list::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, rgba(96,165,250,0.12), rgba(96,165,250,0.22));
  border-radius:10px;
  border:2px solid rgba(0,0,0,0.06);
}
.cert-list::-webkit-scrollbar-thumb:hover{
  background: linear-gradient(180deg, rgba(96,165,250,0.2), rgba(96,165,250,0.36));
}

/* Firefox */
.cert-list{ scrollbar-width: thin; scrollbar-color: rgba(96,165,250,0.22) rgba(255,255,255,0.02) }

/* Page-level scrollbar (subtle) */
body::-webkit-scrollbar{ width:12px }
body::-webkit-scrollbar-track{ background: rgba(255,255,255,0.01) }
body::-webkit-scrollbar-thumb{ background: rgba(255,255,255,0.06); border-radius:8px; border:3px solid transparent; background-clip: padding-box }
body{ scrollbar-gutter: stable }

/* Responsive adjustments */
/* Responsive: keep two columns until narrow screens */
@media (min-width:1400px){
  /* on very wide screens keep two columns but allow taller list */
  .cert-list{ max-height: calc(100vh - 200px); }
}
@media (max-width:900px){
  .cert-list{ grid-template-columns: repeat(2, 1fr); max-height: calc(100vh - 300px); }
}
@media (max-width:700px){
  /* single column on small screens, let content flow vertically */
  .cert-list{ grid-template-columns: 1fr; max-height: none; overflow: visible; padding-right:6px }
}

.cert-card{ position:relative; background: rgba(255,255,255,0.02); border-radius:10px; min-height:88px; font-size:13px; overflow:hidden; padding:14px; display:block; box-shadow:0 6px 18px rgba(2,6,23,0.12); }
 .cert-card .content{ position:relative; z-index:1; padding-right: calc(56% + 12px); }
.cert-card .meta{ color:var(--muted); font-size:12px; margin-top:6px }
.cert-card .preview{ position:absolute; top:0; right:0; width:55%; height:100%; background-size:cover; background-position:center; transform:translateX(100%); transition:transform .28s cubic-bezier(.2,.9,.3,1); z-index:3; pointer-events:auto; cursor:pointer }
.cert-card:hover .preview{ transform:translateX(0) }
.cert-card .view-link{ display:inline-block; margin-top:8px; color:var(--accent); font-weight:600 }

/* Image loading indicator: show a spinner while background image is loading.
   JS should toggle `loading` -> `loaded` classes on the preview element. */
.cert-card .preview.loading::after{
  content: "";
  position: absolute;
  left: 50%; top: 50%;
  width: 36px; height: 36px;
  margin-left: -18px; margin-top: -18px;
  border-radius: 50%;
  border: 4px solid rgba(255,255,255,0.12);
  border-top-color: var(--accent);
  box-shadow: 0 6px 18px rgba(2,6,23,0.5);
  animation: spin 1s linear infinite;
  z-index: 6;
}
.cert-card .preview.loaded::after{ display: none; }
.cert-card .preview.failed::after{
  /* show a muted indicator if load failed */
  border-color: rgba(255,255,255,0.06);
  border-top-color: rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.18);
}

@keyframes spin{ from{ transform: rotate(0deg) } to{ transform: rotate(360deg) } }

/* Small screens: make preview full-width below content and reset paddings */
@media (max-width:700px){
  .cert-card .content{ padding-right: 0 }
  .cert-card .preview{ position:static; width:100%; height:140px; transform:none; border-radius:8px; margin-top:10px }
}

/* Mobile-first improvements: better spacing, larger tap targets, stacked previews */
@media (max-width:600px){
  .wrap{ margin:12px auto; padding:12px }
  header{ flex-direction: column; align-items: flex-start; gap:10px }
  .brand{ gap:8px }
  .logo{ width:40px; height:40px }
  nav {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .navlink {
    flex: 1; /* biar tombol melebar rata */
    padding: 12px 16px; /* area sentuh lebih besar */
    font-size: 16px; /* sedikit lebih besar untuk mobile */
    border-radius: 10px;
    border: none;
    cursor: pointer;
  }

  .navlink.active {
    width: 100%; /* tombol aktif full width */
  }


  .grid{ grid-template-columns: 1fr }
  .avatar{ max-width:140px }
  .avatar img{ width:100%; height:auto }
  .meta h2{ font-size:18px }
  .meta p{ font-size:13px }

  /* Certificate list spacing tweaks */
  .cert-list{ gap:12px; padding:8px }
  .cert-card{ padding:12px; min-height:110px; font-size:14px }
  .cert-card .content{ padding-right:0 }
  .cert-card .meta{ font-size:13px }
  .cert-card .view-link{ padding:8px 10px; display:inline-block }

  /* Stacked preview: larger and touch-friendly */
  .cert-card .preview{ position:static; width:100%; height:180px; transform:none; border-radius:8px; margin-top:12px }
  .cert-card .preview.loading::after{ width:34px; height:34px; margin-left:-17px; margin-top:-17px }

  /* Info panel becomes full-width block below content */
  .info{ position:static; width:100%; margin-top:12px; right:auto; bottom:auto }
  .info h3{ font-size:16px }

  /* Make role/tab buttons touch-friendly on mobile
     - default: two buttons per row (48% width)
     - very small screens: single full-width buttons
     Buttons use the same `tab-btn` class added by JS. */
  .tab-btn{
    display: inline-block;
    width: 48%;
    margin: 6px 1%;
    padding: 10px 12px;
    font-size: 15px;
    text-align: center;
    border-radius: 10px;
    background: transparent;
    color: var(--muted);
    border: 1px solid rgba(255,255,255,0.04);
    cursor: pointer;
    box-sizing: border-box;
  }
  .tab-btn.active{ background: var(--glass); color: var(--accent); border-color: rgba(96,165,250,0.12); }

  /* On very narrow screens, stack tabs full-width for easiest tapping */
  @media (max-width:420px){
    .tab-btn{ display:block; width:100%; margin:6px 0; font-size:16px; padding:12px 14px }
  }


  /* Hide thin scrollbars on mobile for a cleaner look */
  .cert-list::-webkit-scrollbar{ display:none }
  .cert-list{ scrollbar-width: none }
}
